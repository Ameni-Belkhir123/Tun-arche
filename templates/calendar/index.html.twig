{% extends 'front1/base.html.twig' %}
{% block title %}My Calendar{% endblock %}

{% block content %}
    <h1 class="text-center my-4">My Calendar</h1>

    <!-- FullCalendar CSS & JS (CDN example) -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.6/index.global.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.6/index.global.min.js"></script>

    <!-- 1) A simple style block to size/center the calendar container. -->
    <style>
        .calendar-container {
            max-width: 700px; /* adjust as you like, e.g. 600px or 800px */
            margin: 0 auto;   /* centers the container */
        }
    </style>

    <!-- 2) Centered container around #calendar -->
    <div class="calendar-container">
        <div id="calendar"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                /* optional: control calendar's height if needed */
                height: 'auto',  // let it adjust height automatically
                events: [
                    {% for event in events %}
                    {
                        title: '{{ event.nameEvent|e }}',
                        start: '{{ event.dateStart|date("Y-m-d") }}',
                        end: '{{ event.dateEnd|date("Y-m-d") }}'
                    },
                    {% endfor %}
                ]
            });
            calendar.render();
        });
    </script>
{% endblock %}
