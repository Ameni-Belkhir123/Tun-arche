{% extends "back/base.html.twig" %}

{% block body %}
    <div class="container my-5" style="margin-top: 120px;">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card shadow">
                    <div class="card-header bg-warning text-white">
                        <h3>Edit Evaluation</h3>
                    </div>
                    <div class="card-body">
                        {# Update form begins #}
                        {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
                        <div class="mb-3">
                            {{ form_label(form.note) }}
                            {{ form_widget(form.note, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.note) }}
                        </div>
                        <div class="mb-3">
                            {{ form_label(form.commentaire) }}
                            {{ form_widget(form.commentaire, {'attr': {'class': 'form-control', 'rows': 4}}) }}
                            {{ form_errors(form.commentaire) }}
                        </div>
                        {# Buttons container: update/back from update form and delete form inline #}
                        <div class="d-flex justify-content-end align-items-center mt-3" style="gap: 0.5rem;">
                            <button type="submit" class="btn btn-warning">Update</button>
                            <a href="{{ path('app_evaluation_index') }}" class="btn btn-secondary">Back to Evaluations</a>
                            {{ form_end(form) }}
                            <form method="post" action="{{ path('app_evaluation_delete', {'id': evaluation.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');" style="display:inline;">
                                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ evaluation.id) }}">
                                <button type="submit" class="btn btn-danger">Delete</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
